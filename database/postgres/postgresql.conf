# PostgreSQL configuration

# Listen on all interfaces (required for Docker networking)
listen_addresses = '*'

# ===========================================
# Logging configuration (file-based, JSON)
# ===========================================

# Enable file-based logging
logging_collector = on
log_destination = 'jsonlog'
log_directory = '/var/log/postgresql'
log_filename = 'postgresql-%a.log'
log_rotation_age = 1d
log_rotation_size = 0
log_truncate_on_rotation = on

# Timezone
log_timezone = 'UTC'

# What to log
log_statement = 'ddl'
log_min_duration_statement = 1000
log_connections = on
log_disconnections = on
log_lock_waits = on
log_temp_files = 0

# Log level
log_min_messages = warning
log_min_error_statement = error
